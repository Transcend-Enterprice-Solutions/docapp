<!DOCTYPE html>
<html>
<head>
	<title>Account Register</title>
</head>
{% extends 'layout-dashboard.html' %}
<body>
	{% block content %}
	<div class="container">
		<div class="justify-content-center align-items-center position-absolute top-50 start-50 translate-middle">
			<form action="/register" method="POST">
				<div class="text-center mb-3">
					<span class="fw-bold fs-5">Account Registration</span>
				</div>
				<div class="text-center mb-3" id="alert-msg">
					<!-- ALERT MESSAGE -->
					{% if response %}
						{% if response['status'] == 'success' %}
							<div class="alert alert-success" role="alert"><span class="fw-bold">{{response['msg']}}</span></div>
						{% else %}
							<div class="alert alert-danger" role="alert"><span class="fw-bold">{{response['msg']}}</span></div>
						{% endif %}
					{% endif %}
				</div>
				<div class="row">
					<div class="col-6">
						<div class="input-group mb-3">
							<input name="fname" type="text" class="form-control" placeholder="First Name" value="" required>
						</div>
					</div>

					<div class="col-6">
						<div class="input-group mb-3">
							<input name="lname" type="text" class="form-control" placeholder="Last Name" value="" required>
						</div>
					</div>

				</div>

				<div class="row">
					<div class="col-6">
						<div class="input-group mb-3">
							<input id="npwd" name="npwd" type="password" class="form-control" placeholder="New Password" value="" required>
						</div>
					</div>

					<div class="col-6">
						<div class="input-group mb-3">
							<input id="cpwd" name="cpwd" type="password" class="form-control" placeholder="Confirm Password" onkeyup="validate_password()" value="" required>
						</div>	
					</div>
				</div>

				<div class="row">

					<div class="col-6">
						<div class="input-group mb-3">
							<input name="username" type="text" class="form-control" placeholder="Username" value="" required>
						</div>
					</div>

					<div class="col-6">
						<div class="input-group mb-3">
							<input name="contact" type="text" class="form-control" placeholder="09xxxxxxxxx" value="" maxlength="11" required>
						</div>
					</div>

				</div>

				<div class="container">
					<div class="text-start mb-2">
						<label id="account-type">Type of Account:</label>
					
						<div class="btn-group" role="group" id="account-type">
							<input value="None" type="radio" class="btn-check" name="account_type" id="btnradio1" autocomplete="off" checked>
							<label class="btn btn-outline-primary" for="btnradio1">None</label>

							<input value="0" type="radio" class="btn-check" name="account_type" id="btnradio2" autocomplete="off">
							<label class="btn btn-outline-primary" for="btnradio2">Admin</label>

							<input value="1" type="radio" class="btn-check" name="account_type" id="btnradio3" autocomplete="off">
							<label class="btn btn-outline-primary" for="btnradio3">Employee</label>
						</div>
					</div>
				</div>

				<div class="container">
					<div class="text-start mb-2">
						<label id="dept-name">Which Department:</label>
						<select name="dept-name" class="form-select" id="dept-name">
						  <option value="Department A">Dept A</option>
						  <option value="Department B">Dept B</option>
						  <option value="Department C">Dept C</option>
						  <option value="Department D">Dept D</option>
						</select>
					</div>
				</div>
				<div class="mt-3 mb-3 text-center">
					<a href="/" class="btn btn-secondary">Back</a>
					<button type="clear" class="btn btn-primary">Clear</button>
					<button disabled="disabled" id="submit" type="submit" class="btn btn-success">Create</button>
				</div>
			</form>
			<div class="container">
				{% if response %}
					{{response}}
				{% endif %}
			</div>
		</div>
	</div>
	<script type="text/javascript">
		function validate_password() {
 
            let pass = document.getElementById('npwd').value;
            let confirm_pass = document.getElementById('cpwd').value;


            if (pass != confirm_pass) {
                document.getElementById('alert-msg').innerHTML
                    = '<div class="alert alert-danger" role="alert"> Your new password is not matched! </div>';
                document.getElementById('submit').disabled = true;
                document.getElementById('submit').style.opacity = (0.4);
            } else {
                document.getElementById('alert-msg').style.color = 'green';
                document.getElementById('alert-msg').innerHTML =
                    '<div class="alert alert-success" role="alert"> Your new password is matched! </div>';
                document.getElementById('submit').disabled = false;
                document.getElementById('submit').style.opacity = (1);
            }
        }

	</script>
	{% endblock %}
</body>
</html>